import {
  FieldCaption,
  FieldLabel,
  IconSelect,
  cnMixSpace,
  isNotNil,
  isNumber,
  isString
} from "./chunk-HMUTNDZZ.js";
import {
  PortalWithTheme,
  Transition_default,
  cnMixScrollBar,
  useClickOutside,
  usePortalContext
} from "./chunk-ZHIYUCNQ.js";
import {
  _toConsumableArray,
  useMutableRef
} from "./chunk-QWGMJWL7.js";
import "./chunk-RER3UHKH.js";
import {
  Text,
  cnText,
  textPropViewDefault
} from "./chunk-J7KCGNNE.js";
import {
  useTheme
} from "./chunk-JVX23HWN.js";
import {
  createIconInner,
  createSvg
} from "./chunk-EGOTPCWI.js";
import "./chunk-6BKLQ22S.js";
import {
  Loader
} from "./chunk-YGQVTQT6.js";
import {
  getByMap
} from "./chunk-S2TBCIF5.js";
import "./chunk-QTPKDHHA.js";
import {
  Checkbox
} from "./chunk-AUF4JYYT.js";
import "./chunk-CLQ2K3RP.js";
import {
  useFlag,
  usePropsHandler
} from "./chunk-ARXLPV4Q.js";
import {
  forkRef,
  useForkRef
} from "./chunk-EDELJFTB.js";
import {
  _slicedToArray
} from "./chunk-GRBBAANK.js";
import {
  cn
} from "./chunk-TXVME25X.js";
import {
  _defineProperty,
  _objectWithoutProperties
} from "./chunk-UQU4Z3ZD.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@consta/uikit/__internal__/src/components/Select/Select.js
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/Select.css";
var import_react28 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/cnSelect.js
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/Select.css";
var COMPONENT_NAME = "Select";
var cnSelect = cn("Select");

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/helpers.js
var defaultLabelForEmptyItems = "Список пуст";

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectContainer/SelectContainer.js
var import_react = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/types.js
var propSize = ["m", "xs", "s", "l"];
var defaultPropSize = propSize[0];
var propForm = ["default", "defaultClear", "defaultBrick", "brick", "brickDefault", "brickClear", "brickRound", "round", "roundClear", "roundBrick", "clearRound", "clearDefault", "clearBrick", "clearClear"];
var defaultPropForm = propForm[0];
var propView = ["default", "clear"];
var defaultPropView = propView[0];

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectContainer/SelectContainer.js
var _excluded = ["size", "form", "view", "className", "disabled", "required", "children", "status", "focused", "id", "multiple", "type", "labelPosition", "label", "labelIcon", "caption"];
var SelectContainer = (0, import_react.forwardRef)(function(a, b) {
  var c = a.size, d = void 0 === c ? defaultPropSize : c, e2 = a.form, f = void 0 === e2 ? defaultPropForm : e2, g = a.view, h = void 0 === g ? defaultPropView : g, i2 = a.className, j = a.disabled, k = a.required, l = a.children, m = a.status, n2 = a.focused, o = a.id, p = a.multiple, q = a.type, r2 = void 0 === q ? "select" : q, s = a.labelPosition, t2 = void 0 === s ? "top" : s, u = a.label, v = a.labelIcon, w = a.caption, x = _objectWithoutProperties(a, _excluded);
  return import_react.default.createElement("div", Object.assign({ className: cnSelect({ labelPosition: t2, size: d, view: h, type: r2 }, [i2]) }, x), u && import_react.default.createElement(FieldLabel, { icon: v, as: "label", required: k, htmlFor: o, className: cnSelect("Label", { labelPosition: t2 }), size: d }, u), import_react.default.createElement("div", { className: cnSelect("Body") }, import_react.default.createElement("div", { className: cnSelect("SelectContainer", { view: h, form: f, disabled: j, focused: n2, multiple: p, status: m }), ref: b }, l), w && import_react.default.createElement(FieldCaption, { className: cnSelect("Caption"), status: m }, w)));
});

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectDropdown/SelectDropdown.js
var import_react27 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectDropdown/SelectDropdown.css";

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListCanary.js
var import_react7 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/utils/getGroups.js
function _createForOfIteratorHelper(a, b) {
  var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
  if (!c) {
    if (Array.isArray(a) || (c = _unsupportedIterableToArray(a)) || b && a && "number" == typeof a.length) {
      c && (a = c);
      var d = 0, e2 = function() {
      };
      return { s: e2, n: function n2() {
        return d >= a.length ? { done: true } : { done: false, value: a[d++] };
      }, e: function e3(a2) {
        throw a2;
      }, f: e2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var f, g = true, h = false;
  return { s: function s() {
    c = c.call(a);
  }, n: function n2() {
    var a2 = c.next();
    return g = a2.done, a2;
  }, e: function e3(a2) {
    h = true, f = a2;
  }, f: function f2() {
    try {
      g || null == c["return"] || c["return"]();
    } finally {
      if (h) throw f2;
    }
  } };
}
function _unsupportedIterableToArray(a, b) {
  if (a) {
    if ("string" == typeof a) return _arrayLikeToArray(a, b);
    var c = Object.prototype.toString.call(a).slice(8, -1);
    return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray(a, b) : void 0;
  }
}
function _arrayLikeToArray(a, b) {
  (null == b || b > a.length) && (b = a.length);
  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];
  return d;
}
var defaultGroupKey = "no-group";
var getItemGroupKeyGuard = function(a, b, c) {
  var d = a(b);
  return "undefined" == typeof d ? c : d;
};
function getGroups(a, b, c, d, e2) {
  var f = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : defaultGroupKey;
  if ("function" != typeof b) return [{ items: a, key: f, groupIndex: -1 }];
  var g, h = [], i2 = _createForOfIteratorHelper(a);
  try {
    var j = function _loop() {
      var a2 = g.value, e3 = getItemGroupKeyGuard(b, a2, f), i3 = h.findIndex(function(a3) {
        return a3.key === e3;
      });
      if (0 <= i3) h[i3].items.push(a2);
      else {
        var j2 = d && c ? c.findIndex(function(a3) {
          return d(a3) === e3;
        }) : -1, k = { key: e3, items: [a2], groupIndex: j2, group: c ? c[j2] : void 0 };
        h.push(k);
      }
    };
    for (i2.s(); !(g = i2.n()).done; ) j();
  } catch (a2) {
    i2.e(a2);
  } finally {
    i2.f();
  }
  return "function" == typeof e2 ? h.sort(e2) : c && d && h.sort(function(c2, a2) {
    return c2.groupIndex > a2.groupIndex ? 1 : c2.groupIndex < a2.groupIndex ? -1 : 0;
  }), h;
}
function getCountedGroups(a, b, c, d, e2) {
  var f = _toConsumableArray(a);
  return c && a.forEach(function(a2, c2) {
    var g = 0, h = 0;
    a2.items.forEach(function(a3) {
      e2 && null !== e2 && void 0 !== e2 && e2(a3) || (g += 1), null !== b && void 0 !== b && b.find(function(b2) {
        return d(a3) === d(b2);
      }) && (h += 1);
    }), f[c2].items = [{ __optionSelctAll: true, totalCount: g, groupKey: a2.key, checkedCount: h }].concat(_toConsumableArray(f[c2].items));
  }), f;
}

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItem/ListItem.js
var import_react3 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItem/ListItem.css";

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItemGrid/ListItemGrid.js
var import_react2 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItemGrid/ListItemGrid.css";

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/maps.js
var mapHorisontalSpase = { xs: "xs", s: "xs", m: "s", l: "s" };
var mapHorisontalSpaseIncreased = { xs: "s", s: "s", m: "m", l: "l" };
var mapGroupVerticalSpaseTop = { xs: "s", s: "m", m: "m", l: "l" };
var mapGroupVerticalSpaseBottom = { xs: "2xs", s: "2xs", m: "xs", l: "s" };
var mapItemVerticalPadding = { xs: "2xs", s: "2xs", m: "xs", l: "xs" };
var mapIconSize = { xs: "xs", s: "xs", m: "s", l: "s" };
var mapDividerVerticalSpace = { l: "m", m: "s", s: "xs", xs: "2xs" };

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItemGrid/ListItemGrid.js
var cnListItemGrid = cn("ListItemGrid");
var renderSlot = function(a, b, c, d, e2) {
  var f = a ? _toConsumableArray(Array.isArray(a) ? a : [a]) : [];
  if (d) {
    var g = import_react2.default.createElement(d, { size: getByMap(mapIconSize, c, e2) });
    "left" === b && f.push(g), "right" === b && f.unshift(g);
  }
  return f.map(function(a2, c2) {
    if (isNotNil(a2)) return import_react2.default.createElement("div", { className: cnListItemGrid("Slot", { position: b }), key: cnListItemGrid("Slot", { position: b, index: c2 }) }, a2);
  });
};

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/types.js
var listPropSize = ["m", "xs", "s", "l"];
var defaultListPropSize = listPropSize[0];
var listPropInnerOffset = ["normal", "increased"];
var defaultListPropInnerOffset = listPropInnerOffset[0];
var listPropForm = ["default", "brick", "round"];
var defaultListPropForm = listPropForm[0];

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListItem/ListItem.js
var _excluded2 = ["size", "active", "label", "innerOffset", "disabled", "className", "leftSide", "rightSide", "rightIcon", "leftIcon", "as", "checked", "onClick", "status", "space", "iconSize"];
var cnListItem = cn("ListItem");
var ListItemRender = function(a, b) {
  var c = a.size, d = void 0 === c ? defaultListPropSize : c, e2 = a.active, f = a.label, g = a.innerOffset, h = a.disabled, i2 = a.className, j = a.leftSide, k = a.rightSide, l = a.rightIcon, m = a.leftIcon, n2 = a.as, o = void 0 === n2 ? "div" : n2, p = a.checked, q = a.onClick, r2 = a.status, s = void 0 === r2 ? textPropViewDefault : r2, t2 = a.space, u = a.iconSize, v = _objectWithoutProperties(a, _excluded2), w = q && !h ? q : void 0;
  return import_react3.default.createElement(o, Object.assign({}, v, { className: cnListItem({ active: e2, disabled: h, checked: p, interactive: !!w }, [cnText({ lineHeight: "xs", size: d, view: s }), cnMixSpace(t2 || { pH: "increased" === g ? mapHorisontalSpaseIncreased[d] : mapHorisontalSpase[d], pV: mapItemVerticalPadding[d] }), cnListItemGrid(), i2]), onClick: w, ref: b }), renderSlot(j, "left", d, m, u), l || k || j || m ? f && import_react3.default.createElement("span", { className: cnListItemGrid("Slot", { position: "center" }) }, f) : f, renderSlot(k, "right", d, l, u));
};
var ListItem = (0, import_react3.forwardRef)(ListItemRender);

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/renderHeader.js
var import_react6 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListDivider/ListDivider.js
var import_react4 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListDivider/ListDivider.css";
var _excluded3 = ["size", "innerOffset", "className", "space"];
var cnListDivider = cn("ListDivider");
var ListDivider = (0, import_react4.forwardRef)(function(a, b) {
  var c = a.size, d = void 0 === c ? defaultListPropSize : c, e2 = a.innerOffset, f = a.className, g = a.space, h = _objectWithoutProperties(a, _excluded3);
  return import_react4.default.createElement("div", Object.assign({}, h, { ref: b, className: cnListDivider(null, [cnMixSpace(g || { mH: "increased" === e2 ? mapHorisontalSpaseIncreased[d] : mapHorisontalSpase[d], mV: mapDividerVerticalSpace[d] }), f]) }));
});

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListGroupLabel/ListGroupLabel.js
var import_react5 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListGroupLabel/ListGroupLabel.css";
var _excluded4 = ["rightSide", "size", "label", "innerOffset", "className", "space"];
var cnListGroupLabel = cn("ListGroupLabel");
var mapFontSize = { xs: "2xs", s: "2xs", m: "xs", l: "s" };
var ListGroupLabel = (0, import_react5.forwardRef)(function(a, b) {
  var c = a.rightSide, d = a.size, e2 = void 0 === d ? defaultListPropSize : d, f = a.label, g = a.innerOffset, h = a.className, i2 = a.space, j = _objectWithoutProperties(a, _excluded4);
  return import_react5.default.createElement(Text, Object.assign({}, j, { ref: b, className: cnListGroupLabel(null, [cnListItemGrid(), cnMixSpace(i2 || { mH: "increased" === g ? mapHorisontalSpaseIncreased[e2] : mapHorisontalSpase[e2], pT: mapGroupVerticalSpaseTop[e2], pB: mapGroupVerticalSpaseBottom[e2] }), h]), size: mapFontSize[e2], view: "secondary", lineHeight: "xs", spacing: "xs", transform: "uppercase" }), c ? import_react5.default.createElement("span", { className: cnListItemGrid("Slot", { position: "center" }) }, f) : f, renderSlot(c, "right", e2, void 0));
});

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListCanary.js
var cnList = cn("List");

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/IconAdd_size_m.js
var React8 = __toESM(require_react());
var IconAddSizeM = (a) => React8.createElement("svg", Object.assign({ viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, a), React8.createElement("path", { d: "M13 2h-2v9H2v2h9v9h2v-9h9v-2h-9V2z" }));
var IconAdd_size_m_default = IconAddSizeM;

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/IconAdd_size_s.js
var React9 = __toESM(require_react());
var IconAddSizeS = (a) => React9.createElement("svg", Object.assign({ viewBox: "0 0 16 16", xmlns: "http://www.w3.org/2000/svg" }, a), React9.createElement("path", { d: "M9 2H7v5H2v2h5v5h2V9h5V7H9V2z" }));
var IconAdd_size_s_default = IconAddSizeS;

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/IconAdd_size_xs.js
var React10 = __toESM(require_react());
var IconAddSizeXs = (a) => React10.createElement("svg", Object.assign({ viewBox: "0 0 12 12", xmlns: "http://www.w3.org/2000/svg" }, a), React10.createElement("path", { d: "M6.5 2.5h-1v3h-3v1h3v3h1v-3h3v-1h-3v-3z" }));
var IconAdd_size_xs_default = IconAddSizeXs;

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/props.js
var props = { l: IconAdd_size_m_default, m: IconAdd_size_m_default, s: IconAdd_size_s_default, xs: IconAdd_size_xs_default, name: "IconAdd", renderType: { l: "use", m: "use", s: "use", xs: "use" }, color: "mono" };
var props_default = props;

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/svg.js
var svg_default = createSvg(props_default);

// node_modules/@consta/icons/__internal__/src/icons/IconAdd/IconAdd.js
var IconAdd = createIconInner(props_default, svg_default);

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListAddItem/ListAddItem.js
var import_react8 = __toESM(require_react());
var _excluded5 = ["size", "innerOffset", "underLine"];
var ListAddItem = (0, import_react8.forwardRef)(function(a, b) {
  var c = a.size, d = void 0 === c ? defaultListPropSize : c, e2 = a.innerOffset, f = a.underLine, g = _objectWithoutProperties(a, _excluded5), h = "increased" === e2 ? mapHorisontalSpaseIncreased[d] : mapHorisontalSpase[d];
  return import_react8.default.createElement(import_react8.default.Fragment, null, import_react8.default.createElement(ListItem, Object.assign({}, g, { size: d, ref: b, leftIcon: IconAdd, space: { pH: h, pV: mapGroupVerticalSpaseBottom[d] } })), f && import_react8.default.createElement(ListDivider, { size: d, space: { mH: h } }));
});

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListLoader/ListLoader.js
var import_react9 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListLoader/ListLoader.css";
var cnListLoader = cn("ListLoader");
var ListLoader = (0, import_react9.forwardRef)(function(a, b) {
  var c = a.size, d = void 0 === c ? defaultListPropSize : c, e2 = a.innerOffset, f = void 0 === e2 ? defaultListPropInnerOffset : e2, g = a.className;
  return import_react9.default.createElement("div", { ref: b, className: cnListLoader({ size: d }, [cnMixSpace({ pH: "increased" === f ? mapHorisontalSpaseIncreased[d] : mapHorisontalSpase[d] }), g]) }, import_react9.default.createElement("div", { className: cnListLoader("Container") }, import_react9.default.createElement(Loader, { size: "s", className: cnListLoader("Loader") })));
});

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListBox/ListBox.js
var import_react10 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListBox/cnListBox.js
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListBox/ListBox.css";
var cnListBox = cn("ListBox");

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListBox/mapVerticalSpase.js
var mapVerticalSpase = { xs: "2xs", s: "2xs", m: "xs", l: "xs" };

// node_modules/@consta/uikit/__internal__/src/components/ListCanary/ListBox/ListBox.js
var _excluded6 = ["size", "form", "border", "shadow", "className"];
var ListBox = (0, import_react10.forwardRef)(function(a, b) {
  var c = a.size, d = void 0 === c ? defaultListPropSize : c, e2 = a.form, f = a.border, g = a.shadow, h = a.className, i2 = _objectWithoutProperties(a, _excluded6);
  return import_react10.default.createElement("div", Object.assign({}, i2, { ref: b, className: cnListBox({ size: d, form: e2, border: f, shadow: g }, [cnMixSpace({ pV: mapVerticalSpase[d] }), cnMixScrollBar(), h]) }));
});

// node_modules/@consta/uikit/__internal__/src/components/Popover/Popover.js
var import_react14 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/Popover/Popover.css";

// node_modules/@consta/uikit/__internal__/src/hooks/useComponentSize/useComponentSize.js
var import_react12 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/hooks/useResizeObserved/useResizeObserved.js
var import_react11 = __toESM(require_react());
function _createForOfIteratorHelper2(a, b) {
  var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
  if (!c) {
    if (Array.isArray(a) || (c = _unsupportedIterableToArray2(a)) || b && a && "number" == typeof a.length) {
      c && (a = c);
      var d = 0, e2 = function() {
      };
      return { s: e2, n: function n2() {
        return d >= a.length ? { done: true } : { done: false, value: a[d++] };
      }, e: function e3(a2) {
        throw a2;
      }, f: e2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var f, g = true, h = false;
  return { s: function s() {
    c = c.call(a);
  }, n: function n2() {
    var a2 = c.next();
    return g = a2.done, a2;
  }, e: function e3(a2) {
    h = true, f = a2;
  }, f: function f2() {
    try {
      g || null == c["return"] || c["return"]();
    } finally {
      if (h) throw f2;
    }
  } };
}
function _unsupportedIterableToArray2(a, b) {
  if (a) {
    if ("string" == typeof a) return _arrayLikeToArray2(a, b);
    var c = Object.prototype.toString.call(a).slice(8, -1);
    return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray2(a, b) : void 0;
  }
}
function _arrayLikeToArray2(a, b) {
  (null == b || b > a.length) && (b = a.length);
  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];
  return d;
}
var useResizeObserved = function(a, b) {
  var c = import_react11.default.useState(function() {
    return a.map(function(a2) {
      return b(a2.current);
    });
  }), d = _slicedToArray(c, 2), e2 = d[0], f = d[1], g = import_react11.default.useRef(b);
  return (0, import_react11.useLayoutEffect)(function() {
    g.current = b;
  }, [b]), (0, import_react11.useLayoutEffect)(function() {
    var b2, c2 = new ResizeObserver(function() {
      f(a.map(function(a2) {
        return g.current(a2.current);
      }));
    }), d2 = _createForOfIteratorHelper2(a);
    try {
      for (d2.s(); !(b2 = d2.n()).done; ) {
        var e3 = b2.value;
        e3.current && c2.observe(e3.current);
      }
    } catch (a2) {
      d2.e(a2);
    } finally {
      d2.f();
    }
    return function() {
      c2.disconnect();
    };
  }, [a]), e2;
};

// node_modules/@consta/uikit/__internal__/src/hooks/useComponentSize/getElementSize.js
var defaultSize = { width: 0, height: 0 };
var getElementSize = function(a) {
  if (!a) return defaultSize;
  var b = a.getBoundingClientRect(), c = b.width, d = b.height;
  return { width: c, height: d };
};

// node_modules/@consta/uikit/__internal__/src/hooks/useComponentSize/useComponentSize.js
function useComponentSize(a) {
  var b = (0, import_react12.useMemo)(function() {
    return [a];
  }, [a.current]);
  return useResizeObserved(b, getElementSize)[0];
}

// node_modules/@consta/uikit/__internal__/src/utils/isRenderProp.js
var isRenderProp = function(a) {
  return "function" == typeof a;
};

// node_modules/@consta/uikit/__internal__/src/components/Popover/helpers.js
var getPosition = function(a, b) {
  return { x: Math.round(a), y: Math.round(b) };
};
var getPositionsByDirection = function(a) {
  var b = a.contentSize, c = a.anchorSize, d = a.position, e2 = d.x, f = d.y, g = a.arrowOffset, h = void 0 === g ? 0 : g, i2 = a.offset, j = void 0 === i2 ? 0 : i2, k = b.width, l = b.height, m = c.width, n2 = c.height, o = { x: e2 + m / 2, y: f + n2 / 2 }, p = e2 + m + j, q = e2 - k - j, r2 = { right: o.x - h, center: o.x - k / 2, left: o.x - k + h }, s = f + n2 + j, t2 = f - l - j, u = { up: o.y - l + h, center: o.y - l / 2, down: o.y - h }, v = e2, w = e2 - k + m, x = f, y = f - l + n2;
  return { upLeft: getPosition(r2.left, t2), upCenter: getPosition(r2.center, t2), upRight: getPosition(r2.right, t2), downLeft: getPosition(r2.left, s), downCenter: getPosition(r2.center, s), downRight: getPosition(r2.right, s), rightUp: getPosition(p, u.up), rightCenter: getPosition(p, u.center), rightDown: getPosition(p, u.down), leftUp: getPosition(q, u.up), leftCenter: getPosition(q, u.center), leftDown: getPosition(q, u.down), downStartLeft: getPosition(v, s), downStartRight: getPosition(w, s), upStartLeft: getPosition(v, t2), upStartRight: getPosition(w, t2), leftStartUp: getPosition(q, x), leftStartDown: getPosition(q, y), rightStartUp: getPosition(p, x), rightStartDown: getPosition(p, y) };
};
var getComputedPositionAndDirection = function(a) {
  var b = a.position, c = a.contentSize, d = a.viewportSize, e2 = a.anchorSize, f = void 0 === e2 ? { width: 0, height: 0 } : e2, g = a.arrowOffset, h = a.direction, i2 = a.possibleDirections, j = a.bannedDirections, k = a.spareDirection, l = a.offset, m = void 0 === l ? 0 : l;
  if (!b) return { position: b, direction: h };
  var n2 = getPositionsByDirection({ contentSize: c, anchorSize: f, position: b, arrowOffset: g, offset: m }), o = [h].concat(_toConsumableArray(i2)).filter(function(a2) {
    return !j.includes(a2);
  }).find(function(a2) {
    var b2 = n2[a2], e3 = c.width, f2 = c.height, g2 = b2.y + f2 <= d.height, h2 = 0 <= b2.y, i3 = 0 <= b2.x, j2 = b2.x + e3 <= d.width;
    return h2 && g2 && i3 && j2;
  }) || k;
  return { direction: o, position: n2[o] };
};

// node_modules/@consta/uikit/__internal__/src/components/Popover/usePopoverReposition.js
var import_react13 = __toESM(require_react());
var getAllParents = function(a) {
  for (var b = [], c = a; c; ) c !== a && b.push(c), c = c.parentNode;
  return b;
};
var usePopoverReposition = function(a) {
  var b = a.isActive, c = a.scrollAnchorRef, d = a.onRequestReposition, e2 = useMutableRef(d);
  (0, import_react13.useEffect)(function() {
    var a2 = function() {
      return e2.current();
    };
    if (b) {
      window.addEventListener("resize", a2);
      var d2 = null !== c && void 0 !== c && c.current ? getAllParents(c.current) : [];
      return d2.forEach(function(b2) {
        return b2.addEventListener("scroll", a2);
      }), function() {
        window.removeEventListener("resize", a2), d2.forEach(function(b2) {
          return b2.removeEventListener("scroll", a2);
        });
      };
    }
  }, [c]);
};

// node_modules/@consta/uikit/__internal__/src/components/Popover/Popover.js
var _excluded7 = ["children", "direction", "offset", "arrowOffset", "possibleDirections", "isInteractive", "onClickOutside", "spareDirection", "style", "className", "position", "anchorRef", "equalAnchorWidth", "onSetDirection"];
function ownKeys(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
var directionsStartCenter = ["downCenter", "upCenter", "downRight", "downLeft", "upRight", "upLeft", "leftUp", "leftCenter", "leftDown", "rightUp", "rightCenter", "rightDown"];
var directionsStartEdge = ["downStartLeft", "upStartLeft", "downStartRight", "upStartRight", "leftStartUp", "leftStartDown", "rightStartUp", "rightStartDown"];
var directions = [].concat(directionsStartCenter, directionsStartEdge);
var getOffset = function(a, b) {
  if (isNumber(b)) return b;
  if (isString(b) && a.current) {
    var g = getComputedStyle(a.current).getPropertyValue("--space-".concat(b));
    if (g && /px$/.test(g)) return +g.slice(0, g.length - 2);
    if (g && /rem$/.test(g)) {
      var c = parseFloat(getComputedStyle(document.documentElement).fontSize), d = +g.slice(0, g.length - 3);
      return c * d;
    }
    if (g && /em$/.test(g)) {
      var e2 = parseFloat(getComputedStyle(a.current).fontSize), f = +g.slice(0, g.length - 2);
      return e2 * f;
    }
    return 0;
  }
  return 0;
};
var ContextConsumer = function(a) {
  var b = a.onClickOutside, c = a.children, d = a.ignoreClicksInsideRefs, e2 = usePortalContext(), f = e2.refs;
  return useClickOutside({ isActive: !!b, ignoreClicksInsideRefs: [].concat(_toConsumableArray(d || []), _toConsumableArray(f || [])), handler: b }), c;
};
var cnPopover = cn("Popover");
var Popover = (0, import_react14.forwardRef)(function(a, b) {
  var c, d = a.children, e2 = a.direction, f = void 0 === e2 ? "upCenter" : e2, g = a.offset, h = void 0 === g ? 0 : g, i2 = a.arrowOffset, j = a.possibleDirections, k = void 0 === j ? directions : j, l = a.isInteractive, m = a.onClickOutside, n2 = a.spareDirection, o = void 0 === n2 ? "downStartLeft" : n2, p = a.style, q = a.className, r2 = a.position, s = a.anchorRef, t2 = a.equalAnchorWidth, u = a.onSetDirection, v = _objectWithoutProperties(a, _excluded7), w = import_react14.default.useRef(null), x = useTheme(), y = x.theme, z = import_react14.default.useState(), A = _slicedToArray(z, 2), B = A[0], C = A[1], D = useComponentSize(w), E = D.width, F = D.height, G = useComponentSize(s || { current: null }), H = import_react14.default.useRef(null), I = import_react14.default.useState([]), J = _slicedToArray(I, 2), K = J[0], L = J[1], M = function() {
    L(function(a2) {
      return a2.length ? [] : a2;
    }), H.current = null;
  }, N = function() {
    var a2;
    return C(null === s || void 0 === s || null === (a2 = s.current) || void 0 === a2 ? void 0 : a2.getBoundingClientRect());
  }, O = (0, import_react14.useMemo)(function() {
    return getOffset(w, h);
  }, [h, !!w.current]), P = getComputedPositionAndDirection({ contentSize: { width: E, height: F }, viewportSize: { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight }, arrowOffset: i2, offset: O, direction: f, possibleDirections: k, bannedDirections: K, position: B ? { x: B.left, y: B.top } : r2, anchorSize: G, spareDirection: o }), Q = P.position, R = P.direction;
  (0, import_react14.useEffect)(function() {
    return null === u || void 0 === u ? void 0 : u(R);
  }, [R]), (0, import_react14.useEffect)(N, [G]), usePopoverReposition({ isActive: true, scrollAnchorRef: s || { current: null }, onRequestReposition: function onRequestReposition() {
    M(), N();
  } }), (0, import_react14.useLayoutEffect)(function() {
    H.current !== R && (H.current && !K.includes(H.current) && !K.includes(R) && R !== o && L(function(a2) {
      return H.current ? [].concat(_toConsumableArray(a2), [H.current]) : a2;
    }), H.current = R);
  }, [R]), (0, import_react14.useLayoutEffect)(M, [a]);
  var S = !Q || !F || !E;
  return import_react14.default.createElement(PortalWithTheme, Object.assign({}, v, { preset: y, className: cnPopover({ direction: R, notVisible: S }, [q]), container: window.document.body, ref: useForkRef([w, b]), style: _objectSpread(_objectSpread({}, p), S ? {} : (c = {}, _defineProperty(c, "--popover-top", "".concat(((null === Q || void 0 === Q ? void 0 : Q.y) || 0) + window.scrollY, "px")), _defineProperty(c, "--popover-left", "".concat(((null === Q || void 0 === Q ? void 0 : Q.x) || 0) + window.scrollX, "px")), _defineProperty(c, "--popover-width", t2 ? "".concat(G.width, "px") : void 0), _defineProperty(c, "--popover-pointer-events", !(void 0 !== l) || l ? void 0 : "none"), _defineProperty(c, "--popover-visibility", Q ? void 0 : "hidden"), c)) }), import_react14.default.createElement(ContextConsumer, { onClickOutside: m, ignoreClicksInsideRefs: [w, s || { current: null }] }, isRenderProp(d) ? d(R) : d));
});

// node_modules/@consta/uikit/__internal__/src/hooks/useDebounce/useDebounce.js
var import_react15 = __toESM(require_react());
var useDebounce = function(a, b) {
  var c = (0, import_react15.useRef)(null), d = useMutableRef(a);
  return (0, import_react15.useEffect)(function() {
    return function() {
      c.current && clearTimeout(c.current);
    };
  }, [b]), (0, import_react15.useCallback)(function() {
    for (var a2 = arguments.length, e2 = Array(a2), f = 0; f < a2; f++) e2[f] = arguments[f];
    c.current && clearTimeout(c.current), c.current = setTimeout(function() {
      c.current = null, "function" == typeof d.current && d.current.apply(d, e2);
    }, b);
  }, [b]);
};

// node_modules/@consta/uikit/__internal__/src/hooks/useVirtualScroll/useVirtualScroll.js
var import_react18 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/hooks/useRefs/useRefs.js
var import_react16 = __toESM(require_react());
var isNotNumber = function(a) {
  return "number" != typeof a;
};
var useRefs = function(a) {
  var b = 1 < arguments.length && arguments[1] !== void 0 ? arguments[1] : [];
  return (0, import_react16.useMemo)(function() {
    if (isNotNumber(a)) {
      for (var b2 = {}, c = 0; c < a.length; c++) b2[a[c]] = (0, import_react16.createRef)();
      return b2;
    }
    return Array(a).fill(null).map(function() {
      return (0, import_react16.createRef)();
    });
  }, ["number" == typeof a ? a : a.join("-")].concat(_toConsumableArray(b)));
};

// node_modules/@consta/uikit/__internal__/src/hooks/useVirtualScroll/hellpers.js
var import_react17 = __toESM(require_react());
var defaultItemsCalculationCount = 5;
var arraysIsEq = function(a, b) {
  return a.join("-") === b.join("-");
};
var useScroll = function(a, b, c) {
  (0, import_react17.useEffect)(function() {
    if (c) {
      var d;
      null === (d = a.current) || void 0 === d ? void 0 : d.addEventListener("scroll", b);
    }
    return function() {
      var c2;
      null === (c2 = a.current) || void 0 === c2 ? void 0 : c2.removeEventListener("scroll", b);
    };
  }, [a.current, b, c]);
};
var getElementHeight = function(a) {
  return getElementSize(a).height;
};
var roundPositionByGap = function(a, b) {
  return 0 >= a ? 0 : Math.ceil(a / b) * b;
};
var getVisiblePosition = function(a, b, c) {
  var d = b > c * defaultItemsCalculationCount ? 1.5 * b : c * defaultItemsCalculationCount, e2 = [Math.ceil(roundPositionByGap(a - d, b)), Math.ceil(roundPositionByGap(0 === a ? d : a + d, b))];
  return e2;
};
var calculateSavedSizes = function(a, b) {
  for (var c, d = _toConsumableArray(a), e2 = 0; e2 < b.length; e2++) c = b[e2], 0 < c && (d[e2] = c);
  return d;
};
var useCalculateVisiblePosition = function(a, b, c) {
  var d = useMutableRef(Math.max.apply(null, c));
  return (0, import_react17.useCallback)(function() {
    if (a) {
      var c2 = getVisiblePosition(a.scrollTop, getElementHeight(a), d.current);
      b(function(a2) {
        return c2[0] !== a2[0] || c2[1] !== a2[1] ? c2 : a2;
      });
    }
  }, [a, b]);
};
var addCount = function(a, b, c) {
  for (var d = c.slice(-50), e2 = d.reduce(function(c2, a2) {
    return c2 + a2;
  }, 0) / d.length, f = defaultItemsCalculationCount; b[1] >= a[1] + f * e2; ) f += defaultItemsCalculationCount;
  return f;
};
var calculateBounds = function(a, b, c, d) {
  for (var e2 = [0, 0], f = [0, 0], g = 0; g < a.length; g++) c[0] > e2[0] && (e2[0] += a[g], f[0] = g + 1), c[1] > e2[1] && (e2[1] += a[g], f[1] = g + 1);
  return 0 === f[0] && 0 === f[1] && (f[1] = defaultItemsCalculationCount), b.length !== a.length && (f[1] += addCount(e2, c, a)), f[1] > d && (f[1] = d), [e2, f];
};

// node_modules/@consta/uikit/__internal__/src/hooks/useVirtualScroll/useVirtualScroll.js
var useVirtualScroll = function(a) {
  var b = a.length, c = a.onScrollToBottom, d = a.isActive, e2 = void 0 !== d && d, f = (0, import_react18.useState)([0, 0]), g = _slicedToArray(f, 2), h = g[0], i2 = g[1], j = (0, import_react18.useState)([[0, 0], [0, e2 ? defaultItemsCalculationCount : b]]), k = _slicedToArray(j, 2), l = k[0], m = k[1], n2 = useRefs(b, h), o = (0, import_react18.useRef)(null), p = useResizeObserved(n2, getElementHeight), q = (0, import_react18.useRef)(calculateSavedSizes([], p)), r2 = useMutableRef(c), s = useResizeObserved((0, import_react18.useMemo)(function() {
    return [o];
  }, [o]), getElementHeight), t2 = _slicedToArray(s, 1), u = t2[0], v = useCalculateVisiblePosition(o.current, i2, p);
  return useScroll(o, v, e2), (0, import_react18.useEffect)(function() {
    e2 && v();
  }, [u, e2]), (0, import_react18.useEffect)(function() {
    e2 ? (q.current = calculateSavedSizes(q.current, p), m(calculateBounds(q.current, p, h, b))) : m([[0, 0], [0, b]]);
  }, [].concat(_toConsumableArray(h), [p, b, e2])), (0, import_react18.useEffect)(function() {
    e2 && r2.current && l[1][1] + 1 >= b && r2.current(b);
  }, [l[1][1], e2]), (0, import_react18.useEffect)(function() {
    var a2 = [0, 0], c2 = [[0, 0], [0, e2 ? defaultItemsCalculationCount : b]];
    m(function(a3) {
      return arraysIsEq(a3[0], c2[0]) && arraysIsEq(a3[1], c2[1]) ? a3 : c2;
    }), i2(function(b2) {
      return arraysIsEq(b2, a2) ? b2 : a2;
    });
  }, [e2]), { listRefs: n2, scrollElementRef: o, slice: l[1], spaceTop: l[0][0] };
};

// node_modules/@consta/uikit/__internal__/src/mixs/MixPopoverAnimate/MixPopoverAnimate.js
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/mixs/MixPopoverAnimate/MixPopoverAnimate.css";

// node_modules/@consta/uikit/__internal__/src/utils/cnForCssTransition.js
function cnFunctionHelper(a, b, c, d) {
  return d ? a(d, _defineProperty({}, b, c)) : a(_defineProperty({}, b, c));
}
function cnForCssTransition(a, b) {
  var c = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : "animate";
  return { appear: cnFunctionHelper(a, c, "appear", b), appearActive: cnFunctionHelper(a, c, "appearActive", b), appearDone: cnFunctionHelper(a, c, "appearDone", b), enter: cnFunctionHelper(a, c, "enter", b), enterActive: cnFunctionHelper(a, c, "enterActive", b), enterDone: cnFunctionHelper(a, c, "enterDone", b), exit: cnFunctionHelper(a, c, "exit", b), exitActive: cnFunctionHelper(a, c, "exitActive", b), exitDone: cnFunctionHelper(a, c, "exitDone", b) };
}

// node_modules/@consta/uikit/__internal__/src/mixs/MixPopoverAnimate/MixPopoverAnimate.js
var cnFn = cn("MixPopoverAnimate");
var cnMixPopoverAnimate = cnFn;
var cnMixPopoverAnimateForCssTransition = cnForCssTransition(cnFn);
var animateTimeout = 200;

// node_modules/@consta/uikit/__internal__/src/utils/fabricIndex.js
var fabricIndex = function() {
  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : -1, b = a;
  return function() {
    return b += 1, b;
  };
};

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectCreateButton/SelectCreateButton.js
var import_react19 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectCreateButton/SelectCreateButton.css";
var _excluded8 = ["className", "labelForCreate", "inputValue", "active", "hovered", "size", "indent"];
var cnSelectCreateButton = cn("SelectCreateButton");
var SelectCreateButton = (0, import_react19.forwardRef)(function(a, b) {
  var c = a.className, d = a.labelForCreate, e2 = a.inputValue, f = a.active, g = a.hovered, h = a.size, i2 = a.indent, j = _objectWithoutProperties(a, _excluded8);
  return import_react19.default.createElement(ListAddItem, Object.assign({}, j, { ref: b, className: cnSelectCreateButton(null, [c]), "aria-selected": f, role: "option", active: g, size: h, innerOffset: i2, label: import_react19.default.createElement(import_react19.default.Fragment, null, d, " «", import_react19.default.createElement("b", null, e2), "»") }));
});

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectGroupLabel/SelectGroupLabel.js
var import_react20 = __toESM(require_react());
var _excluded9 = ["indent"];
var SelectGroupLabel = (0, import_react20.forwardRef)(function(a, b) {
  var c = a.indent, d = _objectWithoutProperties(a, _excluded9);
  return import_react20.default.createElement(ListGroupLabel, Object.assign({}, d, { ref: b, innerOffset: c }));
});

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectItemAll/SelectItemAll.js
var import_react22 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectItem/SelectItem.js
var import_react21 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectItem/SelectItem.css";
var _excluded10 = ["className", "label", "active", "hovered", "multiple", "size", "indent", "disabled", "onClick"];
var sizeCheckboxMap = { xs: "m", s: "m", m: "l", l: "l" };
var cnSelectItem = cn("SelectItem");
var SelectItem = (0, import_react21.forwardRef)(function(a, b) {
  var c = a.className, d = a.label, e2 = a.active, f = a.hovered, g = a.multiple, h = a.size, i2 = a.indent, j = a.disabled, k = a.onClick, l = _objectWithoutProperties(a, _excluded10);
  return import_react21.default.createElement(ListItem, Object.assign({}, l, { ref: b, className: cnSelectItem(null, [c]), "aria-selected": e2, "aria-disabled": j, role: "option", label: d, innerOffset: i2, size: h, active: f, checked: !g && e2, disabled: j, onClick: k, leftSide: g && import_react21.default.createElement(Checkbox, { checked: e2, disabled: j, size: sizeCheckboxMap[h] }) }), d);
});

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectItemAll/SelectItemAll.js
var _excluded11 = ["checked", "intermediate", "size", "indent", "hovered", "countItems", "className", "total"];
var cnSelectItemAll = cn("SelectItemAll");
var textSizeMap = { xs: "s", s: "s", m: "m", l: "l" };
var SelectItemAll = (0, import_react22.forwardRef)(function(a, b) {
  var c = a.checked, d = a.intermediate, e2 = a.size, f = a.indent, g = a.hovered, h = a.countItems, i2 = void 0 === h ? 0 : h, j = a.className, k = a.total, l = void 0 === k ? 0 : k, m = _objectWithoutProperties(a, _excluded11);
  return import_react22.default.createElement(ListItem, Object.assign({}, m, { ref: b, className: cnSelectItemAll(null, [j]), "aria-selected": c, role: "option", label: "Выбрать все", innerOffset: f, size: e2, active: g, rightSide: import_react22.default.createElement(Text, { size: textSizeMap[e2], lineHeight: "xs", view: "ghost" }, "".concat(i2, " из ").concat(l)), leftSide: import_react22.default.createElement(Checkbox, { checked: c, intermediate: d, size: sizeCheckboxMap[e2] }) }), "Выбрать все");
});

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectLoader/SelectLoader.js
var import_react23 = __toESM(require_react());
import "C:/EquipmentAccounting/web_3-master/node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectLoader/SelectLoader.css";
var cnSelectLoader = cn("SelectLoader");
var SelectLoader = function() {
  return import_react23.default.createElement("div", { className: cnSelectLoader() }, import_react23.default.createElement(Loader, { className: cnSelectLoader("Loader"), size: "s" }));
};

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/useSelect/useSelect.js
var import_react26 = __toESM(require_react());

// node_modules/@consta/uikit/__internal__/src/hooks/useKeysDepricated/useKeysDepricated.js
function ownKeys2(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread2(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys2(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys2(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
var useKeys = function(a) {
  return function(b) {
    return _objectSpread2(_objectSpread2({}, b), {}, { onKeyDown: function onKeyDown(c) {
      var d = c.keyCode, e2 = c.key, f = c.shiftKey, g = c.metaKey, h = a[e2] || a[d];
      "function" == typeof h && h({ keyCode: d, key: e2, shift: f, meta: g }, c), "function" == typeof (null === b || void 0 === b ? void 0 : b.onKeyDown) && b.onKeyDown(c);
    } });
  };
};

// node_modules/@consta/uikit/__internal__/src/hooks/usePrevious/usePrevious.js
var import_react24 = __toESM(require_react());
function usePrevious(a) {
  var b = import_react24.default.useRef(a);
  return import_react24.default.useEffect(function() {
    b.current = a;
  }, [a]), b.current;
}

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/useSelect/helpers.js
var import_react25 = __toESM(require_react());

// node_modules/compute-scroll-into-view/dist/index.mjs
function t(t2) {
  return "object" == typeof t2 && null != t2 && 1 === t2.nodeType;
}
function e(t2, e2) {
  return (!e2 || "hidden" !== t2) && "visible" !== t2 && "clip" !== t2;
}
function n(t2, n2) {
  if (t2.clientHeight < t2.scrollHeight || t2.clientWidth < t2.scrollWidth) {
    var r2 = getComputedStyle(t2, null);
    return e(r2.overflowY, n2) || e(r2.overflowX, n2) || function(t3) {
      var e2 = function(t4) {
        if (!t4.ownerDocument || !t4.ownerDocument.defaultView) return null;
        try {
          return t4.ownerDocument.defaultView.frameElement;
        } catch (t5) {
          return null;
        }
      }(t3);
      return !!e2 && (e2.clientHeight < t3.scrollHeight || e2.clientWidth < t3.scrollWidth);
    }(t2);
  }
  return false;
}
function r(t2, e2, n2, r2, i2, o, l, d) {
  return o < t2 && l > e2 || o > t2 && l < e2 ? 0 : o <= t2 && d <= n2 || l >= e2 && d >= n2 ? o - t2 - r2 : l > e2 && d < n2 || o < t2 && d > n2 ? l - e2 + i2 : 0;
}
var i = function(e2, i2) {
  var o = window, l = i2.scrollMode, d = i2.block, f = i2.inline, h = i2.boundary, u = i2.skipOverflowHiddenElements, s = "function" == typeof h ? h : function(t2) {
    return t2 !== h;
  };
  if (!t(e2)) throw new TypeError("Invalid target");
  for (var a, c, g = document.scrollingElement || document.documentElement, p = [], m = e2; t(m) && s(m); ) {
    if ((m = null == (c = (a = m).parentElement) ? a.getRootNode().host || null : c) === g) {
      p.push(m);
      break;
    }
    null != m && m === document.body && n(m) && !n(document.documentElement) || null != m && n(m, u) && p.push(m);
  }
  for (var w = o.visualViewport ? o.visualViewport.width : innerWidth, v = o.visualViewport ? o.visualViewport.height : innerHeight, W = window.scrollX || pageXOffset, H = window.scrollY || pageYOffset, b = e2.getBoundingClientRect(), y = b.height, E = b.width, M = b.top, V = b.right, x = b.bottom, I = b.left, C = "start" === d || "nearest" === d ? M : "end" === d ? x : M + y / 2, R = "center" === f ? I + E / 2 : "end" === f ? V : I, T = [], k = 0; k < p.length; k++) {
    var B = p[k], D = B.getBoundingClientRect(), O = D.height, X = D.width, Y = D.top, L = D.right, S = D.bottom, j = D.left;
    if ("if-needed" === l && M >= 0 && I >= 0 && x <= v && V <= w && M >= Y && x <= S && I >= j && V <= L) return T;
    var N = getComputedStyle(B), q = parseInt(N.borderLeftWidth, 10), z = parseInt(N.borderTopWidth, 10), A = parseInt(N.borderRightWidth, 10), F = parseInt(N.borderBottomWidth, 10), G = 0, J = 0, K = "offsetWidth" in B ? B.offsetWidth - B.clientWidth - q - A : 0, P = "offsetHeight" in B ? B.offsetHeight - B.clientHeight - z - F : 0, Q = "offsetWidth" in B ? 0 === B.offsetWidth ? 0 : X / B.offsetWidth : 0, U = "offsetHeight" in B ? 0 === B.offsetHeight ? 0 : O / B.offsetHeight : 0;
    if (g === B) G = "start" === d ? C : "end" === d ? C - v : "nearest" === d ? r(H, H + v, v, z, F, H + C, H + C + y, y) : C - v / 2, J = "start" === f ? R : "center" === f ? R - w / 2 : "end" === f ? R - w : r(W, W + w, w, q, A, W + R, W + R + E, E), G = Math.max(0, G + H), J = Math.max(0, J + W);
    else {
      G = "start" === d ? C - Y - z : "end" === d ? C - S + F + P : "nearest" === d ? r(Y, S, O, z, F + P, C, C + y, y) : C - (Y + O / 2) + P / 2, J = "start" === f ? R - j - q : "center" === f ? R - (j + X / 2) + K / 2 : "end" === f ? R - L + A + K : r(j, L, X, q, A + K, R, R + E, E);
      var Z = B.scrollLeft, $ = B.scrollTop;
      C += $ - (G = Math.max(0, Math.min($ + G / U, B.scrollHeight - O / U + P))), R += Z - (J = Math.max(0, Math.min(Z + J / Q, B.scrollWidth - X / Q + K)));
    }
    T.push({ el: B, top: G, left: J });
  }
  return T;
};

// node_modules/@consta/uikit/__internal__/src/utils/scrollIntoView.js
function scrollIntoView(a, b) {
  var c = i(a, { boundary: b, block: "nearest", scrollMode: "if-needed" });
  c.forEach(function(a2) {
    var b2 = a2.el, c2 = a2.top, d = a2.left;
    b2.scrollTop = c2, b2.scrollLeft = d;
  });
}

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/useSelect/helpers.js
function useHoistedState(a) {
  var b = import_react25.default.useRef(function(a2, b2) {
    return b2;
  }), c = import_react25.default.useState(a), d = _slicedToArray(c, 2), e2 = d[0], f = d[1], g = import_react25.default.useCallback(function(a2, c2) {
    if (!c2) throw new Error("An action type is required to update the state");
    return f(function(d2) {
      return b.current(d2, a2(d2), c2);
    });
  }, [f]);
  return [e2, g];
}
var scrollToIndex = function(a, b, c, d) {
  if (b.current) {
    var e2 = c[a].current;
    e2 ? scrollIntoView(e2, b.current) : d();
  }
};

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/useSelect/useSelect.js
function ownKeys3(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread3(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys3(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys3(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
function _createForOfIteratorHelper3(a, b) {
  var c = "undefined" != typeof Symbol && a[Symbol.iterator] || a["@@iterator"];
  if (!c) {
    if (Array.isArray(a) || (c = _unsupportedIterableToArray3(a)) || b && a && "number" == typeof a.length) {
      c && (a = c);
      var d = 0, e2 = function() {
      };
      return { s: e2, n: function n2() {
        return d >= a.length ? { done: true } : { done: false, value: a[d++] };
      }, e: function(a2) {
        function b2() {
          return a2.apply(this, arguments);
        }
        return b2.toString = function() {
          return a2.toString();
        }, b2;
      }(function(a2) {
        throw a2;
      }), f: e2 };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var f, g = true, h = false;
  return { s: function s() {
    c = c.call(a);
  }, n: function n2() {
    var a2 = c.next();
    return g = a2.done, a2;
  }, e: function(a2) {
    function b2() {
      return a2.apply(this, arguments);
    }
    return b2.toString = function() {
      return a2.toString();
    }, b2;
  }(function(a2) {
    h = true, f = a2;
  }), f: function f2() {
    try {
      g || null == c["return"] || c["return"]();
    } finally {
      if (h) throw f2;
    }
  } };
}
function _unsupportedIterableToArray3(a, b) {
  if (a) {
    if ("string" == typeof a) return _arrayLikeToArray3(a, b);
    var c = Object.prototype.toString.call(a).slice(8, -1);
    return "Object" === c && a.constructor && (c = a.constructor.name), "Map" === c || "Set" === c ? Array.from(a) : "Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c) ? _arrayLikeToArray3(a, b) : void 0;
  }
}
function _arrayLikeToArray3(a, b) {
  (null == b || b > a.length) && (b = a.length);
  for (var c = 0, d = Array(b); c < b; c++) d[c] = a[c];
  return d;
}
var isMultipleParams = function(a) {
  return a.multiple;
};
var isNotMultipleParams = function(a) {
  return !a.multiple;
};
var actions = { setOpen: "setOpen", setSearch: "setSearch", highlightIndex: "highlightIndex" };
var initialState = { searchValue: "", resolvedSearchValue: "", isOpen: false, highlightedIndex: 0, scrollToHighlighted: false };
var isOptionForCreate = function(a) {
  return a && Object.prototype.hasOwnProperty.call(a, "__optionForCreate");
};
var isNotOptionForCreate = function(a) {
  return a && !Object.prototype.hasOwnProperty.call(a, "__optionForCreate");
};
var isOptionForSelectAll = function(a) {
  return a && Object.prototype.hasOwnProperty.call(a, "__optionSelctAll");
};
function useSelect(a) {
  var b = a.items, c = a.dropdownRef, d = a.controlRef, e2 = a.disabled, f = void 0 !== e2 && e2, g = a.multiple, h = void 0 !== g && g, i2 = a.getItemLabel, j = a.getItemKey, k = a.searchFunction, l = a.getItemGroupKey, m = a.groups, n2 = a.selectAll, o = void 0 !== n2 && n2, p = a.getGroupKey, q = a.sortGroups, r2 = a.getItemDisabled, s = a.onFocus, t2 = a.onBlur, u = a.searchValue, v = a.onDropdownOpen, w = a.onSearchValueChange, x = a.dropdownOpen, y = a.ignoreOutsideClicksRefs, z = (0, import_react26.useRef)(null), A = (0, import_react26.useState)(false), B = _slicedToArray(A, 2), C = B[0], D = B[1], E = (0, import_react26.useMemo)(function() {
    return a.value && (Array.isArray(a.value) ? a.value : [a.value]) || [];
  }, [a.value]), F = useHoistedState(initialState), G = _slicedToArray(F, 2), H = G[0], I = H.searchValue, J = H.isOpen, K = H.highlightedIndex, L = H.resolvedSearchValue, M = H.scrollToHighlighted, N = G[1], O = useMutableRef(w), P = function(a2, b2) {
    return -1 !== i2(a2).toLocaleLowerCase().indexOf(b2.toLocaleLowerCase());
  }, Q = (0, import_react26.useMemo)(function() {
    if (L && "" !== L) {
      var c2 = b.filter(function(a2) {
        return k ? k(a2, L) : P(a2, L);
      });
      return [c2, a.onCreate && !c2.length ? { label: I, __optionForCreate: true } : void 0];
    }
    return [b, void 0];
  }, [b, L]), R = _slicedToArray(Q, 2), S = R[0], T = R[1], U = (0, import_react26.useMemo)(function() {
    var b2 = getCountedGroups(getGroups(S, null !== m && void 0 !== m && m.length ? l : void 0, m, p, q), isMultipleParams(a) ? a.value : [], o, j, r2);
    return T ? [T].concat(_toConsumableArray(b2)) : b2;
  }, [E, o, S, m, l, r2, p, q, T]), V = S.length + (T ? 1 : 0) + (o ? U.length : 0), W = useRefs(V, [J]), X = (0, import_react26.useMemo)(function() {
    var b2 = false;
    return 0 < I.length && (b2 = 0 === U.filter(function(a2) {
      return isOptionForCreate(a2) || 0 < a2.items.length || a2.group;
    }).length && !a.onCreate), b2;
  }, [U]), Y = 0 !== b.length, Z = (0, import_react26.useMemo)(function() {
    return !isNotMultipleParams(a) && !!o && b.filter(function(a2) {
      return E.find(function(b2) {
        return j(b2) === j(a2);
      });
    }).length === b.length;
  }, [o, h, E, b]), $ = function() {
    var a2 = 0;
    if (0 < E.length) {
      var b2, c2 = _createForOfIteratorHelper3(U);
      try {
        for (c2.s(); !(b2 = c2.n()).done; ) {
          var f2 = b2.value;
          if (isOptionForCreate(f2)) {
            a2++;
            continue;
          }
          var d2, e3 = _createForOfIteratorHelper3(f2.items);
          try {
            for (e3.s(); !(d2 = e3.n()).done; ) {
              var g2 = d2.value;
              if (isOptionForSelectAll(g2)) return a2;
              if (j(g2) === j(E[0])) return a2;
              a2++;
            }
          } catch (a3) {
            e3.e(a3);
          } finally {
            e3.f();
          }
        }
      } catch (a3) {
        c2.e(a3);
      } finally {
        c2.f();
      }
    }
    return 0;
  }, aa = (0, import_react26.useCallback)(function(a2) {
    N(function(b2) {
      return _objectSpread3(_objectSpread3({}, b2), {}, { isOpen: a2 });
    }, actions.setOpen);
  }, [N]), ba = useDebounce(function(a2) {
    N(function(b2) {
      return b2.resolvedSearchValue === a2 ? b2 : _objectSpread3(_objectSpread3({}, b2), {}, { resolvedSearchValue: a2 });
    }, actions.setSearch);
  }, 300), ca = (0, import_react26.useCallback)(function(a2) {
    N(function(b2) {
      return b2.searchValue === a2 ? b2 : _objectSpread3(_objectSpread3({}, b2), {}, { searchValue: a2 || "" });
    }, actions.setSearch), ba(a2 || "");
  }, [N, ba]), da = usePrevious(J), ea = (0, import_react26.useCallback)(function(a2, b2) {
    N(function(c2) {
      var d2 = Math.min(Math.max(0, "function" == typeof a2 ? a2(c2.highlightedIndex) : a2), V - 1);
      return c2.highlightedIndex === d2 ? c2 : _objectSpread3(_objectSpread3({}, c2), {}, { highlightedIndex: d2, scrollToHighlighted: b2 });
    }, actions.highlightIndex);
  }, [S, N, T]);
  (0, import_react26.useLayoutEffect)(function() {
    if (null !== E && !da && J) {
      var a2 = $();
      0 < S.length && scrollToIndex(a2, c, W, function() {
        return ea(0, false);
      });
    }
  });
  var fa = function(b2, c2) {
    if (b2.stopPropagation(), isMultipleParams(a)) {
      var d2, e3 = null === (d2 = a.value) || void 0 === d2 ? void 0 : d2.filter(function(a2) {
        return j(a2) !== j(c2);
      }), f2 = null !== e3 && void 0 !== e3 && e3.length ? e3 : null;
      a.onChange(f2, { e: b2 });
    }
  }, ga = function(b2, c2) {
    if (!(r2 && r2(c2))) {
      if (isMultipleParams(a)) {
        var d2 = E.some(function(a2) {
          return j(a2) === j(c2);
        }) ? E.filter(function(a2) {
          return j(a2) !== j(c2);
        }) : [].concat(_toConsumableArray(E), [c2]), e3 = null !== d2 && void 0 !== d2 && d2.length ? d2 : null;
        a.onChange(e3, { e: b2 });
      }
      isNotMultipleParams(a) && (a.onChange(c2, { e: b2 }), aa(false), ca(""));
    }
  }, ha = function(b2) {
    var c2 = b2.e, d2 = b2.items;
    if (isMultipleParams(a)) {
      var e3 = r2 ? d2.filter(function(a2) {
        return !r2(a2);
      }) : d2, f2 = [], g2 = [];
      if (E.forEach(function(a2) {
        e3.find(function(b3) {
          return j(a2) === j(b3);
        }) ? f2.push(a2) : g2.push(a2);
      }), f2.length === e3.length) a.onChange(g2, { e: c2 });
      else {
        var h2 = [].concat(g2, _toConsumableArray(e3));
        a.onChange(h2, { e: c2 });
      }
    }
  }, ia = function(b2, c2) {
    a.onCreate && a.onCreate(c2, { e: b2, label: c2 }), aa(false), ca("");
  }, ja = function(b2) {
    if (isMultipleParams(a)) {
      var c2 = null === E || void 0 === E ? void 0 : E.filter(function(a2) {
        return null === r2 || void 0 === r2 ? void 0 : r2(a2);
      }), d2 = c2 && 0 < c2.length ? c2 : null;
      a.onChange(d2, { e: b2 });
    }
    isNotMultipleParams(a) && a.onChange(null, { e: b2 }), ca("");
  }, ka = function(a2, b2) {
    b2.preventDefault(), f || aa(true), ea(function(a3) {
      return a3 - 1;
    }, true);
  }, la = function(a2, b2) {
    b2.preventDefault(), f || aa(true), ea(function(a3) {
      return a3 + 1;
    }, true);
  }, ma = useKeys({ ArrowUp: ka, ArrowDown: la, PageUp: ka, PageDown: la, Home: ka, End: la, Enter: function Enter(a2, b2) {
    if (J) {
      (I || S[K]) && b2.preventDefault();
      var c2 = function(a3) {
        var b3, c3 = 0, d3 = _createForOfIteratorHelper3(U);
        try {
          for (d3.s(); !(b3 = d3.n()).done; ) {
            var e4 = b3.value;
            if (isOptionForCreate(e4)) return c3++, [void 0, e4];
            if (e4.items.length + c3 > a3) return [e4, e4.items[a3 - c3]];
            c3 += e4.items.length;
          }
        } catch (a4) {
          d3.e(a4);
        } finally {
          d3.f();
        }
        return [void 0, void 0];
      }, d2 = c2(K), e3 = _slicedToArray(d2, 2), f2 = e3[0], g2 = e3[1];
      if (isOptionForCreate(g2)) return void ia(b2, g2.label);
      if (isOptionForSelectAll(g2)) {
        var h2;
        return void ha({ e: b2, items: null !== (h2 = null === f2 || void 0 === f2 ? void 0 : f2.items.filter(function(a3) {
          return !isOptionForSelectAll(a3);
        })) && void 0 !== h2 ? h2 : [] });
      }
      g2 && ga(b2, g2);
    } else aa(true);
  }, Escape: function Escape() {
    aa(false);
  }, Tab: function Tab(a2, b2) {
    J && (b2.preventDefault(), aa(false));
  }, Backspace: function Backspace(a2, b2) {
    I || (h ? fa(b2, E[E.length - 1]) : ja(b2));
  } });
  useClickOutside({ isActive: J, ignoreClicksInsideRefs: [c, d].concat(_toConsumableArray(y || [])), handler: function handler() {
    aa(false);
  } }), (0, import_react26.useEffect)(function() {
    f && aa(false);
  }, [f]), (0, import_react26.useEffect)(function() {
    var a2 = $();
    ea(a2, true);
  }, [ea]), (0, import_react26.useEffect)(function() {
    0 < S.length && M && scrollToIndex(K, c, W, function() {
      return ea(0, false);
    });
  }, [K]);
  return (0, import_react26.useEffect)(function() {
    ca(u);
  }, [u]), (0, import_react26.useEffect)(function() {
    var a2;
    null === (a2 = c.current) || void 0 === a2 ? void 0 : a2.scrollTo({ top: 0 });
  }, [L]), (0, import_react26.useEffect)(function() {
    null === v || void 0 === v ? void 0 : v(J);
  }, [J]), (0, import_react26.useEffect)(function() {
    var a2;
    null === (a2 = O.current) || void 0 === a2 ? void 0 : a2.call(O, I);
  }, [I]), (0, import_react26.useEffect)(function() {
    aa(x || false);
  }, [x]), { isOpen: J, isFocused: C, highlightedIndex: K, visibleItems: U, highlightIndex: ea, getOptionProps: function getOptionProps(a2) {
    var b2 = a2.index, c2 = a2.item, d2 = a2.keyPrefix;
    if (isOptionForCreate(c2)) return { onClick: function onClick(a3) {
      ia(a3, c2.label);
    }, onMouseEnter: function onMouseEnter() {
      ea(b2, false);
    }, active: false, hovered: b2 === K, key: "".concat(d2, "__optionForCreate") };
    if (isOptionForSelectAll(c2)) {
      var f2 = function() {
        var a3, b3 = _createForOfIteratorHelper3(U);
        try {
          for (b3.s(); !(a3 = b3.n()).done; ) {
            var e4 = a3.value;
            if (isOptionForCreate(e4)) break;
            if (e4.key === c2.groupKey) {
              var d3;
              return null !== (d3 = null === e4 || void 0 === e4 ? void 0 : e4.items.filter(function(a4) {
                return !isOptionForSelectAll(a4);
              })) && void 0 !== d3 ? d3 : [];
            }
          }
        } catch (a4) {
          b3.e(a4);
        } finally {
          b3.f();
        }
        return [];
      };
      return { onClick: function onClick(a3) {
        ha({ e: a3, items: f2() });
      }, onMouseEnter: function onMouseEnter() {
        ea(b2, false);
      }, active: false, hovered: b2 === K, key: "".concat(d2, "__optionForSelectAll") };
    }
    var e3 = j(c2);
    return { onClick: function onClick(a3) {
      ga(a3, c2);
    }, onMouseEnter: function onMouseEnter() {
      ea(b2, false);
    }, active: !!E.find(function(a3) {
      return j(a3) === e3;
    }), hovered: b2 === K, key: "".concat(d2).concat(e3) };
  }, handleInputFocus: function handleInputFocus(a2) {
    f || (!C && D(true), "function" == typeof s && s(a2));
  }, handleInputBlur: function handleInputBlur(a2) {
    if (J) {
      var b2;
      return void (null === (b2 = z.current) || void 0 === b2 ? void 0 : b2.focus());
    }
    C && D(false), "function" == typeof t2 && t2(a2);
  }, handleToggleDropdown: function handleToggleDropdown() {
    if (J) aa(false), D(false);
    else {
      var a2;
      aa(true), D(true), null === (a2 = z.current) || void 0 === a2 ? void 0 : a2.focus();
    }
  }, handleInputClick: function handleInputClick() {
    if (f || aa(!J), h) {
      var a2;
      null === (a2 = z.current) || void 0 === a2 ? void 0 : a2.focus();
    }
  }, inputRef: z, getKeyProps: ma, handleInputChange: function handleInputChange(a2) {
    f || !h && 0 < E.length || (ca(a2.target.value), aa(true));
  }, searchValue: I, clearValue: ja, getHandleRemoveValue: function getHandleRemoveValue(a2) {
    return function(b2) {
      return fa(b2, a2);
    };
  }, notFound: X, hasItems: Y, allItemsSelected: Z, optionsRefs: W };
}

// node_modules/@consta/uikit/__internal__/src/components/SelectComponents/SelectDropdown/SelectDropdown.js
var _excluded12 = ["controlRef", "size", "getOptionProps", "dropdownRef", "labelForCreate", "className", "labelForNotFound", "labelForEmptyItems", "hasItems", "form", "isOpen", "offset", "renderItem", "visibleItems", "isLoading", "getGroupLabel", "notFound", "itemsRefs", "virtualScroll", "onScrollToBottom"];
function ownKeys4(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread4(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys4(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys4(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
var selectDropdownform = ["default", "brick", "round"];
var defaultSelectDropdownPropForm = selectDropdownform[0];
var cnSelectDropdown = cn("SelectDropdown");
var getLenghtElements = function(a) {
  for (var b, c = 1 >= a.length ? 0 : a.length, d = 0; d < a.length; d++) b = a[d], isNotOptionForCreate(b) && b.items.length && (c += b.items.length);
  return c;
};
var isVisible = function(a, b) {
  return b >= a[0] && b < a[1];
};
var SelectDropdown = function(a) {
  var b = a.controlRef, c = a.size, d = a.getOptionProps, e2 = a.dropdownRef, f = a.labelForCreate, g = a.className, h = a.labelForNotFound, i2 = a.labelForEmptyItems, j = a.hasItems, k = void 0 === j || j, l = a.form, m = a.isOpen, n2 = a.offset, o = void 0 === n2 ? "none" : n2, p = a.renderItem, q = a.visibleItems, r2 = a.isLoading, s = a.getGroupLabel, t2 = a.notFound, u = a.itemsRefs, v = a.virtualScroll, w = a.onScrollToBottom, x = _objectWithoutProperties(a, _excluded12), y = "round" === l ? "increased" : "normal", z = (0, import_react27.useMemo)(function() {
    return 0 < q.filter(function(a2) {
      return isOptionForCreate(a2) || Array.isArray(a2.items) && 0 < a2.items.length;
    }).length;
  }, [q]), A = "none" === o ? void 0 : o, B = (0, import_react27.useMemo)(function() {
    return getLenghtElements(q);
  }, [q]), C = useVirtualScroll({ length: B, isActive: v && m, onScrollToBottom: w }), D = C.spaceTop, E = C.slice, F = C.listRefs, G = C.scrollElementRef, H = 0 === E[0] && v ? [0, 50] : E, I = (0, import_react27.useRef)(null), J = useForkRef([G, e2]), K = useFlag(), L = _slicedToArray(K, 2), M = L[0], N = L[1], O = useDebounce(N.off, 100);
  return (0, import_react27.useEffect)(function() {
    var a2, b2 = function() {
      N.on(), O();
    };
    return null === (a2 = G.current) || void 0 === a2 ? void 0 : a2.addEventListener("scroll", b2), function() {
      var a3;
      null === (a3 = G.current) || void 0 === a3 ? void 0 : a3.removeEventListener("scroll", b2);
    };
  }, [G.current]), import_react27.default.createElement(Transition_default, { in: m, unmountOnExit: true, nodeRef: I, timeout: animateTimeout }, function(a2) {
    var e3 = fabricIndex(), j2 = fabricIndex();
    return import_react27.default.createElement(Popover, Object.assign({}, x, { anchorRef: b, direction: "downStartLeft", possibleDirections: ["downStartLeft", "upStartLeft", "downStartRight", "upStartRight"], offset: A, ref: I, role: "listbox", className: cnSelectDropdown(null, [cnListBox({ size: c, form: l, border: true, shadow: true }), cnMixPopoverAnimate({ animate: a2 }), g]), equalAnchorWidth: true }), import_react27.default.createElement("div", { className: cnSelectDropdown("ScrollContainer", [cnMixSpace({ pV: mapVerticalSpase[c] }), cnMixScrollBar()]), ref: J }, r2 && !z && import_react27.default.createElement(SelectLoader, null), import_react27.default.createElement("div", { className: cnSelectDropdown("List", { scrolled: M }), style: { marginTop: D } }, q.map(function(a3, b2) {
      if (isOptionForCreate(a3)) {
        var h2 = e3();
        return import_react27.default.createElement(SelectCreateButton, Object.assign({ size: c, labelForCreate: f, inputValue: a3.label, indent: y, ref: u[h2] }, d({ index: h2, item: a3, keyPrefix: b2 })));
      }
      var g2 = 1 < q.length ? j2() : 0;
      return import_react27.default.createElement(import_react27.Fragment, { key: a3.key }, a3.group && s && isVisible(H, g2) && import_react27.default.createElement(SelectGroupLabel, { label: s(a3.group), size: c, indent: y, ref: F[g2], key: "group-".concat(a3.key) }), a3.items.map(function(b3, f2) {
        if (isOptionForSelectAll(b3)) {
          var g3 = j2(), h3 = e3();
          if (isVisible(H, g3)) return import_react27.default.createElement(SelectItemAll, Object.assign({ ref: forkRef([F[g3], u[h3]]), indent: y, size: c }, d({ index: h3, item: b3, keyPrefix: f2 }), { intermediate: !!(b3.checkedCount && b3.totalCount) && b3.checkedCount !== b3.totalCount, checked: b3.checkedCount === b3.totalCount, countItems: b3.checkedCount, total: b3.totalCount }));
        } else {
          var i3 = j2(), k2 = e3();
          if (isVisible(H, i3)) return import_react27.default.createElement(import_react27.Fragment, { key: "".concat(a3.key, "-").concat(f2) }, p(_objectSpread4({ ref: forkRef([F[i3], u[k2]]), item: b3 }, d({ index: k2, item: b3, keyPrefix: f2 }))));
        }
      }));
    }), r2 && z && import_react27.default.createElement(ListLoader, { size: c, innerOffset: y })), !r2 && k && t2 && h && import_react27.default.createElement(ListItem, { size: c, label: h, innerOffset: y }, h), !r2 && !k && i2 && import_react27.default.createElement(ListItem, { size: c, label: i2, innerOffset: y }, i2)));
  });
};

// node_modules/@consta/uikit/__internal__/src/components/Select/helpers.js
function ownKeys5(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread5(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys5(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys5(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
var defaultGetItemKey = function(a) {
  return a.id;
};
var defaultGetItemLabel = function(a) {
  return a.label;
};
var defaultGetItemGroupKey = function(a) {
  return a.groupId;
};
var defaultGetItemDisabled = function(a) {
  return a.disabled;
};
var defaultGetGroupKey = function(a) {
  return a.id;
};
var defaultGetGroupLabel = function(a) {
  return a.label;
};
function withDefaultGetters2(a) {
  return _objectSpread5(_objectSpread5({}, a), {}, { getItemLabel: a.getItemLabel || defaultGetItemLabel, getItemKey: a.getItemKey || defaultGetItemKey, getItemGroupKey: a.getItemGroupKey || defaultGetItemGroupKey, getItemDisabled: a.getItemDisabled || defaultGetItemDisabled, getGroupLabel: a.getGroupLabel || defaultGetGroupLabel, getGroupKey: a.getGroupKey || defaultGetGroupKey });
}
var iconSizeMap = { xs: "xs", s: "s", m: "m", l: "m" };

// node_modules/@consta/uikit/__internal__/src/components/Select/Select.js
var _excluded13 = ["placeholder", "onBlur", "onFocus", "items", "onChange", "value", "required", "disabled", "ariaLabel", "id", "dropdownRef", "form", "view", "size", "dropdownClassName", "name", "groups", "getItemLabel", "labelForEmptyItems", "getItemKey", "getItemGroupKey", "getItemDisabled", "getGroupKey", "getGroupLabel", "renderItem", "isLoading", "renderValue", "inputRef", "style", "dropdownForm", "onDropdownOpen", "onScrollToBottom", "virtualScroll", "dropdownOpen", "ignoreOutsideClicksRefs"];
var SelectRender = function(a, b) {
  var c = (0, import_react28.useRef)(null), d = (0, import_react28.useRef)(null), e2 = usePropsHandler(COMPONENT_NAME, withDefaultGetters2(a), d), f = e2.placeholder, g = e2.onBlur, h = e2.onFocus, i2 = e2.items, j = e2.onChange, k = e2.value, l = e2.required, m = e2.disabled, n2 = e2.ariaLabel, o = e2.id, p = e2.dropdownRef, q = e2.form, r2 = void 0 === q ? defaultPropForm : q, s = e2.view, t2 = void 0 === s ? defaultPropView : s, u = e2.size, v = void 0 === u ? defaultPropSize : u, w = e2.dropdownClassName, x = e2.name, y = e2.groups, z = void 0 === y ? [] : y, A = e2.getItemLabel, B = e2.labelForEmptyItems, C = void 0 === B ? defaultLabelForEmptyItems : B, D = e2.getItemKey, E = e2.getItemGroupKey, F = e2.getItemDisabled, G = e2.getGroupKey, H = e2.getGroupLabel, I = e2.renderItem, J = e2.isLoading, K = e2.renderValue, L = e2.inputRef, M = e2.style, N = e2.dropdownForm, O = void 0 === N ? "default" : N, P = e2.onDropdownOpen, Q = e2.onScrollToBottom, R = e2.virtualScroll, S = e2.dropdownOpen, T = e2.ignoreOutsideClicksRefs, U = _objectWithoutProperties(e2, _excluded13), V = useSelect({ items: i2, groups: z, value: k, onChange: j, dropdownRef: c, controlRef: d, disabled: m, getItemLabel: A, getItemKey: D, getGroupKey: G, getItemGroupKey: E, getItemDisabled: F, multiple: false, onBlur: g, onFocus: h, onDropdownOpen: P, dropdownOpen: S, ignoreOutsideClicksRefs: T }), W = V.getKeyProps, X = V.getOptionProps, Y = V.isOpen, Z = V.visibleItems, $ = V.isFocused, _ = V.handleInputFocus, aa = V.handleInputBlur, ba = V.handleToggleDropdown, ca = V.inputRef, da = V.handleInputClick, ea = V.notFound, fa = V.hasItems, ga = V.optionsRefs, ha = o ? "".concat(o, "-input") : o;
  return import_react28.default.createElement(import_react28.default.Fragment, null, import_react28.default.createElement(SelectContainer, Object.assign({ focused: $, disabled: m, size: v, view: t2, form: r2, required: l, ref: b, style: M, id: ha }, U), import_react28.default.createElement("div", { className: cnSelect("Control"), ref: d, "aria-expanded": Y, "aria-haspopup": "listbox", id: o }, import_react28.default.createElement("div", { className: cnSelect("ControlInner") }, import_react28.default.createElement("div", { className: cnSelect("ControlValueContainer") }, import_react28.default.createElement("input", Object.assign({}, W(), { className: cnSelect("FakeField"), type: "text", name: x, id: ha, onFocus: _, onBlur: aa, "aria-label": n2, onClick: da, ref: useForkRef([ca, L]), readOnly: true })), isNotNil(k) && (K || function renderValueDefault(a2) {
    var b2 = A(a2.item);
    return import_react28.default.createElement("span", { className: cnSelect("ControlValue"), title: b2 }, b2);
  })({ item: k }), !isNotNil(k) && f && import_react28.default.createElement("span", { className: cnSelect("Placeholder"), title: "placeholder" }, f))), import_react28.default.createElement("span", { className: cnSelect("Indicators") }, import_react28.default.createElement("button", { type: "button", className: cnSelect("IndicatorsDropdown"), tabIndex: -1, onClick: ba }, import_react28.default.createElement(IconSelect, { size: iconSizeMap[v], className: cnSelect("DropdownIndicatorIcon") }))))), import_react28.default.createElement(SelectDropdown, { isOpen: Y, size: v, controlRef: d, getOptionProps: X, dropdownRef: useForkRef([p, c]), form: O, className: w, renderItem: I || function renderItemDefault(a2) {
    var b2 = a2.item, c2 = a2.active, d2 = a2.hovered, e3 = a2.onClick, f2 = a2.onMouseEnter, g2 = a2.ref;
    return import_react28.default.createElement(SelectItem, { label: A(b2), active: c2, hovered: d2, multiple: false, size: v, indent: "round" === O ? "increased" : "normal", onClick: e3, onMouseEnter: f2, disabled: F(b2), ref: g2 });
  }, getGroupLabel: H, visibleItems: Z, notFound: ea, isLoading: J, labelForEmptyItems: C, hasItems: fa, itemsRefs: ga, virtualScroll: R, onScrollToBottom: Q, style: "number" == typeof (null === M || void 0 === M ? void 0 : M.zIndex) ? { zIndex: M.zIndex + 1 } : void 0 }));
};
var Select = (0, import_react28.forwardRef)(SelectRender);
export {
  Select,
  defaultGetGroupKey,
  defaultGetGroupLabel,
  defaultGetItemDisabled,
  defaultGetItemGroupKey,
  defaultGetItemKey,
  defaultGetItemLabel,
  iconSizeMap,
  withDefaultGetters2 as withDefaultGetters
};
//# sourceMappingURL=@consta_uikit_Select.js.map
