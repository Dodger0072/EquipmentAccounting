import {
  useGlobalKeys
} from "./chunk-EU2ZXZSO.js";
import {
  animateTimeout,
  cnMixPopoverAnimate
} from "./chunk-VH33SOUU.js";
import {
  PortalWithTheme,
  Transition_default,
  cnMixScrollBar,
  useClickOutside,
  usePortalContext
} from "./chunk-7A4JX3CY.js";
import {
  _toConsumableArray
} from "./chunk-S3LLW2G3.js";
import {
  useTheme
} from "./chunk-WNDEPTBK.js";
import "./chunk-6BKLQ22S.js";
import "./chunk-EDELJFTB.js";
import "./chunk-GRBBAANK.js";
import {
  cn
} from "./chunk-AESRO6RE.js";
import {
  _defineProperty,
  _objectWithoutProperties
} from "./chunk-AIZWXOPP.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@consta/uikit/__internal__/src/components/Modal/Modal.js
var import_react = __toESM(require_react());
import "C:/EquipmentAccounting/web_frontend/node_modules/@consta/uikit/__internal__/src/components/Modal/Modal.css";
var _excluded = ["isOpen", "onClose", "onOpen", "hasOverlay", "onOverlayClick", "onClickOutside", "onEsc", "className", "width", "position", "children", "container", "refsForExcludeClickOutside", "rootClassName", "afterClose", "style"];
function ownKeys(a, b) {
  var c = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var d = Object.getOwnPropertySymbols(a);
    b && (d = d.filter(function(b2) {
      return Object.getOwnPropertyDescriptor(a, b2).enumerable;
    })), c.push.apply(c, d);
  }
  return c;
}
function _objectSpread(a) {
  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), true).forEach(function(c2) {
    _defineProperty(a, c2, b[c2]);
  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function(c2) {
    Object.defineProperty(a, c2, Object.getOwnPropertyDescriptor(b, c2));
  });
  return a;
}
var modalPropWidth = ["auto"];
var modalPropWidthDefault = modalPropWidth[0];
var modalPropPosition = ["center", "top"];
var modalPropPositionDefault = modalPropPosition[0];
var cnModal = cn("Modal");
var ContextConsumer = function(a) {
  var b = a.onClickOutside, c = a.children, d = a.ignoreClicksInsideRefs, e = usePortalContext(), f = e.refs;
  return useClickOutside({ isActive: !!b, ignoreClicksInsideRefs: [].concat(_toConsumableArray(d || []), _toConsumableArray(f || [])), handler: b }), c;
};
var Modal = function(a) {
  var b = a.isOpen, c = a.onClose, d = a.onOpen, e = a.hasOverlay, f = void 0 === e || e, g = a.onOverlayClick, h = a.onClickOutside, i = a.onEsc, j = a.className, k = a.width, l = void 0 === k ? modalPropWidthDefault : k, m = a.position, n = void 0 === m ? modalPropPositionDefault : m, o = a.children, p = a.container, q = void 0 === p ? window.document.body : p, r = a.refsForExcludeClickOutside, s = a.rootClassName, t = a.afterClose, u = a.style, v = _objectWithoutProperties(a, _excluded), w = (0, import_react.useRef)(null), x = (0, import_react.useRef)(null), y = useTheme(), z = y.theme;
  return (0, import_react.useEffect)(function() {
    b ? null === d || void 0 === d ? void 0 : d() : null === c || void 0 === c ? void 0 : c();
  }, [b]), useGlobalKeys({ Escape: function Escape(a2) {
    return b && i && i(a2);
  } }), import_react.default.createElement(Transition_default, { in: b, unmountOnExit: true, nodeRef: x, timeout: animateTimeout, onExited: t }, function(a2) {
    return import_react.default.createElement(PortalWithTheme, { preset: z, container: q, className: cnModal({ hasOverlay: f }, [s]), ref: x, style: "number" == typeof (null === u || void 0 === u ? void 0 : u.zIndex) ? { zIndex: u.zIndex } : void 0 }, f && import_react.default.createElement("div", { className: cnModal("Overlay", { animate: a2 }), "aria-label": "Overlay" }), import_react.default.createElement("div", Object.assign({}, v, { style: _objectSpread(_objectSpread({}, u), {}, { zIndex: void 0 }), className: cnModal("Window", { width: l, position: n }, [cnMixPopoverAnimate({ animate: a2 }), j, cnMixScrollBar()]), ref: w }), import_react.default.createElement(ContextConsumer, { onClickOutside: h || g, ignoreClicksInsideRefs: [].concat(_toConsumableArray(r || []), [w]) }, o)));
  });
};
export {
  Modal
};
//# sourceMappingURL=@consta_uikit_Modal.js.map
